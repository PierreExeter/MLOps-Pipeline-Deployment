<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Predict Insurance Bill</title>
  <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Hind:300' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
  <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='./style.css') }}">
</head>

<body>
  <div class="login">
    <h2>Predict Insurance Bill</h2>

    <!-- Form for sending query to the ML model -->
    <form action="{{ url_for('predict')}}" method="post">
      
      <!-- Age Input -->
      <div class="input-group">
        <label for="age">Age</label>
        <div class="input-container">
          <input type="range" id="age" name="age" min="18" max="65" value="30" class="slider">
          <input type="number" id="ageInput" min="18" max="65" value="30" class="number-input">
        </div>
      </div>
      
      <!-- Sex Radio Buttons -->
      <div class="radio-group-horizontal">
        <label class="radio-label">Sex</label>
        <div class="radio-options">
          <input type="radio" id="male" name="sex" value="male" checked>
          <label for="male">Male</label>
          <input type="radio" id="female" name="sex" value="female">
          <label for="female">Female</label>
        </div>
      </div>
      
      <!-- BMI Input -->
      <div class="input-group">
        <label for="bmi">BMI</label>
        <div class="input-container">
          <input type="range" id="bmi" name="bmi" min="15" max="55" value="25" step="0.1" class="slider">
          <input type="number" id="bmiInput" min="15" max="55" value="25" step="0.1" class="number-input">
        </div>
      </div>
      
      <!-- Children Input -->
      <div class="input-group">
        <label for="children">Children</label>
        <div class="input-container">
          <input type="range" id="children" name="children" min="0" max="5" value="0" class="slider">
          <input type="number" id="childrenInput" min="0" max="5" value="0" class="number-input">
        </div>
      </div>
      
      <!-- Smoker Radio Buttons -->
      <div class="radio-group-horizontal">
        <label class="radio-label">Smoker</label>
        <div class="radio-options">
          <input type="radio" id="yes" name="smoker" value="yes">
          <label for="yes">Yes</label>
          <input type="radio" id="no" name="smoker" value="no" checked>
          <label for="no">No</label>
        </div>
      </div>
      
      <!-- Region Radio Buttons -->
      <div class="radio-group-horizontal">
        <label class="radio-label">Region</label>
        <div class="radio-options-vertical">
          <div class="radio-option">
            <input type="radio" id="southwest" name="region" value="southwest" checked>
            <label for="southwest">Southwest</label>
          </div>
          <div class="radio-option">
            <input type="radio" id="northwest" name="region" value="northwest">
            <label for="northwest">Northwest</label>
          </div>
          <div class="radio-option">
            <input type="radio" id="southeast" name="region" value="southeast">
            <label for="southeast">Southeast</label>
          </div>
          <div class="radio-option">
            <input type="radio" id="northeast" name="region" value="northeast">
            <label for="northeast">Northeast</label>
          </div>
        </div>
      </div>

      <button type="submit" class="btn btn-primary btn-block btn-large">Predict</button>
    </form>

    <br>
    <br>
  </div>
  {{pred}}

  <script>
    // Age synchronization
    const ageSlider = document.getElementById('age');
    const ageInput = document.getElementById('ageInput');

    ageSlider.addEventListener('input', function() {
      ageInput.value = this.value;
    });

    ageInput.addEventListener('input', function() {
      let value = Math.min(Math.max(this.value, ageSlider.min), ageSlider.max);
      ageSlider.value = value;
      this.value = value; // Ensure input stays within bounds
    });

    // BMI synchronization
    const bmiSlider = document.getElementById('bmi');
    const bmiInput = document.getElementById('bmiInput');

    bmiSlider.addEventListener('input', function() {
      bmiInput.value = this.value;
    });

    bmiInput.addEventListener('input', function() {
      let value = Math.min(Math.max(this.value, bmiSlider.min), bmiSlider.max);
      bmiSlider.value = value;
      this.value = value; // Ensure input stays within bounds
    });

    // Children synchronization
    const childrenSlider = document.getElementById('children');
    const childrenInput = document.getElementById('childrenInput');

    childrenSlider.addEventListener('input', function() {
      childrenInput.value = this.value;
    });

    childrenInput.addEventListener('input', function() {
      let value = Math.min(Math.max(this.value, childrenSlider.min), childrenSlider.max);
      childrenSlider.value = value;
      this.value = value; // Ensure input stays within bounds
    });
  </script>
</body>
</html>
